{"version":3,"file":"index.js","sources":["../../../components/image-select/index.js"],"sourcesContent":["/* eslint-disable indent */\n// ^ eslint and prettier disagree\nimport { blockEditor } from 'wp';\n\nimport { RemoveButton, SelectButton, SelectButtonWithPreview } from './buttons';\nimport {\n    DEFAULT_ALT_ATTRIBUTE_NAME,\n    DEFAULT_ID_ATTRIBUTE_NAME,\n    DEFAULT_URL_ATTRIBUTE_NAME,\n} from './defaults';\n\nconst { MediaUpload } = blockEditor;\n\n/**\n * An image selector with optional preview and remove button\n *\n * @param {object}   props\n * @param {object}   props.attributes           Pass down the props of the parent component so attributes can be read\n *                                              and set\n * @param {function} props.setAttributes\n *\n * @param {?string}  props.idAttribute       ['mediaID']\n *                                             Use this to set a different attribute name for the image's media ID. It's\n *                                             where the image ID is read from and written to on change events.\n * @param {?string}  props.urlAttribute      ['mediaURL']\n *                                             Use this to set a different attribute name for the image's URL.\n * @param {?string}  props.altAttribute      ['mediaAltText']\n *                                             Use this to set a different attribute name for the image's alt text.\n * @param {?string}  props.buttonLabel       ['Upload / select image']\n *                                             You can use this option to set a different button text when no image is\n *                                           selected\n * @param {?string}  props.buttonChangeLabel ['Change image']\n *                                             You can use this to change the button text when an image is selected.\n * @param {?string}  props.imageElementClassName  ['']\n *                                             Set a custom class name on the image element when using \"withPreview\"\n * @param {boolean}  props.removeButton      [true]\n *                                             Set this option to `false` if you don't need the ability to clear the\n *                                             attributes and remove the image\n * @param {boolean}  props.withPreview       [false]\n *                                             Pass this option to enable a preview of the selected image instead of the\n *                                             change button.\n * @return {*}\n * @constructor\n */\nexport const ImageSelect = (props) => {\n    const {\n        attributes,\n        // imageElementClassName = '',\n        idAttribute = DEFAULT_ID_ATTRIBUTE_NAME,\n        urlAttribute = DEFAULT_URL_ATTRIBUTE_NAME,\n        altAttribute = DEFAULT_ALT_ATTRIBUTE_NAME,\n        removeButton = true,\n        setAttributes,\n        withPreview = false,\n    } = props;\n\n    const getOnSelectImage = (idAttribute, urlAttribute, altAttribute) => {\n        return ({ url, id, alt }) => {\n            setAttributes({\n                [idAttribute]: id,\n                [urlAttribute]: url,\n                [altAttribute]: alt,\n            });\n        };\n    };\n\n    return (\n        <div\n            className=\"ghwp-editor-image-select\"\n            style={{ textAlign: 'center' }}\n        >\n            <div className=\"button-group\">\n                <MediaUpload\n                    onSelect={getOnSelectImage(\n                        idAttribute,\n                        urlAttribute,\n                        altAttribute\n                    )}\n                    allowedTypes=\"image\"\n                    value={attributes[idAttribute]}\n                    render={({ open }) => {\n                        const SelectButtonComponent = withPreview\n                            ? SelectButtonWithPreview\n                            : SelectButton;\n                        return <SelectButtonComponent open={open} {...props} />;\n                    }}\n                />\n                {removeButton &&\n                    (attributes[urlAttribute] || attributes[idAttribute]) && (\n                        <RemoveButton {...props} />\n                    )}\n            </div>\n        </div>\n    );\n};\n"],"names":["MediaUpload","blockEditor","ImageSelect","props","attributes","idAttribute","DEFAULT_ID_ATTRIBUTE_NAME","urlAttribute","DEFAULT_URL_ATTRIBUTE_NAME","altAttribute","DEFAULT_ALT_ATTRIBUTE_NAME","removeButton","setAttributes","withPreview","getOnSelectImage","url","id","alt","textAlign","open","SelectButtonComponent","SelectButtonWithPreview","SelectButton"],"mappings":";;;;;AAWA,IAAQA,WAAR,GAAwBC,WAAxB,CAAQD,WAAR;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACaE,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAClC,MACIC,UADJ,GASID,KATJ,CACIC,UADJ;AAAA,2BASID,KATJ,CAGIE,WAHJ;AAAA,MAGIA,WAHJ,mCAGkBC,yBAHlB;AAAA,4BASIH,KATJ,CAIII,YAJJ;AAAA,MAIIA,YAJJ,oCAImBC,0BAJnB;AAAA,4BASIL,KATJ,CAKIM,YALJ;AAAA,MAKIA,YALJ,oCAKmBC,0BALnB;AAAA,4BASIP,KATJ,CAMIQ,YANJ;AAAA,MAMIA,YANJ,oCAMmB,IANnB;AAAA,MAOIC,aAPJ,GASIT,KATJ,CAOIS,aAPJ;AAAA,2BASIT,KATJ,CAQIU,WARJ;AAAA,MAQIA,WARJ,mCAQkB,KARlB;;AAWA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACT,WAAD,EAAcE,YAAd,EAA4BE,YAA5B,EAA6C;AAClE,WAAO,gBAAsB;AAAA;;AAAA,UAAnBM,GAAmB,QAAnBA,GAAmB;AAAA,UAAdC,EAAc,QAAdA,EAAc;AAAA,UAAVC,GAAU,QAAVA,GAAU;AACzBL,MAAAA,aAAa,uDACRP,WADQ,EACMW,EADN,mCAERT,YAFQ,EAEOQ,GAFP,mCAGRN,YAHQ,EAGOQ,GAHP,mBAAb;AAKH,KAND;AAOH,GARD;;AAUA,sBACI;AACI,IAAA,SAAS,EAAC,0BADd;AAEI,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb;AAFX,kBAII;AAAK,IAAA,SAAS,EAAC;AAAf,kBACI,oBAAC,WAAD;AACI,IAAA,QAAQ,EAAEJ,gBAAgB,CACtBT,WADsB,EAEtBE,YAFsB,EAGtBE,YAHsB,CAD9B;AAMI,IAAA,YAAY,EAAC,OANjB;AAOI,IAAA,KAAK,EAAEL,UAAU,CAACC,WAAD,CAPrB;AAQI,IAAA,MAAM,EAAE,uBAAc;AAAA,UAAXc,IAAW,SAAXA,IAAW;AAClB,UAAMC,qBAAqB,GAAGP,WAAW,GACnCQ,uBADmC,GAEnCC,YAFN;AAGA,0BAAO,oBAAC,qBAAD;AAAuB,QAAA,IAAI,EAAEH;AAA7B,SAAuChB,KAAvC,EAAP;AACH;AAbL,IADJ,EAgBKQ,YAAY,KACRP,UAAU,CAACG,YAAD,CAAV,IAA4BH,UAAU,CAACC,WAAD,CAD9B,CAAZ,iBAEO,oBAAC,YAAD,EAAkBF,KAAlB,CAlBZ,CAJJ,CADJ;AA4BH;;;;"}