{"version":3,"file":"api-search.js","sources":["../../../components/api-search/api-search.js"],"sourcesContent":["import classnames from 'classnames';\nimport debounce from 'lodash-es/debounce';\nimport { components, i18n } from 'wp';\n\nconst { TextControl } = components;\nconst { __ } = i18n;\n\n/**\n * Flexible component for rendering a text search input and result suggestions\n * as a list. You have to provide the search logic yourself.\n *\n * @param className\n * @param label\n * @param onSearch\n * @param onSelectResult\n * @param results\n * @param resultDisplay\n * @return {*}\n * @constructor\n */\nexport const ApiSearch = ({\n    className = '',\n    label = 'Search',\n    onSearch,\n    onSelectResult,\n    results = null,\n    resultDisplay,\n}) => {\n    const resultsVisible = !!results && results.length;\n    const hasResults = !!results && Array.isArray(results) && results.length;\n    const onSearchDebounced = debounce(onSearch, 700);\n\n    return (\n        <div className={classnames('ghwp-editor-search', className)}>\n            <div className=\"ghwp-editor-search__input\">\n                <TextControl\n                    type=\"search\"\n                    label={label}\n                    placeholder={__('Start typing...', 'ghwp')}\n                    onChange={(search) => {\n                        onSearchDebounced(search);\n                    }}\n                />\n            </div>\n            <div\n                className={classnames('ghwp-editor-search__results', {\n                    'ghwp-editor-search__results--active': resultsVisible,\n                })}\n            >\n                <ul>\n                    {hasResults ? (\n                        results.map((result, index) => (\n                            <li\n                                key={index}\n                                onClick={() => {\n                                    onSelectResult(result);\n                                }}\n                            >\n                                {resultDisplay(result)}\n                            </li>\n                        ))\n                    ) : (\n                        <li>{results}</li>\n                    )}\n                </ul>\n            </div>\n        </div>\n    );\n};\n"],"names":["TextControl","components","__","i18n","ApiSearch","className","label","onSearch","onSelectResult","results","resultDisplay","resultsVisible","length","hasResults","Array","isArray","onSearchDebounced","debounce","classnames","search","map","result","index"],"mappings":";;;;AAIA,IAAQA,WAAR,GAAwBC,UAAxB,CAAQD,WAAR;AACA,IAAQE,EAAR,GAAeC,IAAf,CAAQD,EAAR;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACaE,SAAS,GAAG,SAAZA,SAAY,OAOnB;AAAA,4BANFC,SAME;AAAA,MANFA,SAME,+BANU,EAMV;AAAA,wBALFC,KAKE;AAAA,MALFA,KAKE,2BALM,QAKN;AAAA,MAJFC,QAIE,QAJFA,QAIE;AAAA,MAHFC,cAGE,QAHFA,cAGE;AAAA,0BAFFC,OAEE;AAAA,MAFFA,OAEE,6BAFQ,IAER;AAAA,MADFC,aACE,QADFA,aACE;AACF,MAAMC,cAAc,GAAG,CAAC,CAACF,OAAF,IAAaA,OAAO,CAACG,MAA5C;AACA,MAAMC,UAAU,GAAG,CAAC,CAACJ,OAAF,IAAaK,KAAK,CAACC,OAAN,CAAcN,OAAd,CAAb,IAAuCA,OAAO,CAACG,MAAlE;AACA,MAAMI,iBAAiB,GAAGC,QAAQ,CAACV,QAAD,EAAW,GAAX,CAAlC;AAEA,sBACI;AAAK,IAAA,SAAS,EAAEW,UAAU,CAAC,oBAAD,EAAuBb,SAAvB;AAA1B,kBACI;AAAK,IAAA,SAAS,EAAC;AAAf,kBACI,oBAAC,WAAD;AACI,IAAA,IAAI,EAAC,QADT;AAEI,IAAA,KAAK,EAAEC,KAFX;AAGI,IAAA,WAAW,EAAEJ,EAAE,CAAC,iBAAD,EAAoB,MAApB,CAHnB;AAII,IAAA,QAAQ,EAAE,kBAACiB,MAAD,EAAY;AAClBH,MAAAA,iBAAiB,CAACG,MAAD,CAAjB;AACH;AANL,IADJ,CADJ,eAWI;AACI,IAAA,SAAS,EAAED,UAAU,CAAC,6BAAD,EAAgC;AACjD,6CAAuCP;AADU,KAAhC;AADzB,kBAKI,gCACKE,UAAU,GACPJ,OAAO,CAACW,GAAR,CAAY,UAACC,MAAD,EAASC,KAAT;AAAA,wBACR;AACI,MAAA,GAAG,EAAEA,KADT;AAEI,MAAA,OAAO,EAAE,mBAAM;AACXd,QAAAA,cAAc,CAACa,MAAD,CAAd;AACH;AAJL,OAMKX,aAAa,CAACW,MAAD,CANlB,CADQ;AAAA,GAAZ,CADO,gBAYP,gCAAKZ,OAAL,CAbR,CALJ,CAXJ,CADJ;AAoCH;;;;"}