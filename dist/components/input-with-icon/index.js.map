{"version":3,"file":"index.js","sources":["../../../components/input-with-icon/index.js"],"sourcesContent":["import { components } from 'wp';\nimport classnames from 'classnames';\nimport { omitBy, pick } from 'lodash-es';\n\nconst { RangeControl, TextControl, ToggleControl } = components;\n\nconst toggleWithIconStyles = (highlighted) => {\n    let styles = {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '8px',\n        padding: '8px',\n        border: '1px solid #ccc',\n        justifyContent: 'space-between',\n        width: '100%',\n    };\n    if (highlighted) {\n        styles = Object.assign(styles, {\n            borderColor: '#35f',\n            borderWidth: '2px',\n            boxShadow: '1px 1px 5px 0 #ddd',\n        });\n    }\n    return styles;\n};\n\nconst iconWrapperStyles = {\n    paddingLeft: '8px',\n    borderLeft: '1px solid #ccc',\n    marginLeft: '8px',\n    justifyContent: 'center',\n    display: 'flex',\n    alignSelf: 'stretch',\n    flex: '0 0 40px',\n};\n\nconst svgIconStyles = {\n    width: '32px',\n    height: '32px',\n};\n\n/**\n * A wrapper for various input components that puts them in a box with an icon.\n * In order to process changes, you will have to either provide the attribute's\n * name as a string along with the setAttributes function OR pass your own\n * onChange function.\n *\n * @param props\n * @param {Element|string} props.icon\n * @param {string}         props.label\n * @param {?function}      props.onChange\n * @param {?function}      props.setAttributes\n * @param {?string}        props.attributeName\n * @param {Element}        props.component\n * @param {boolean}        props.highlighted\n * @return {*}\n * @constructor\n */\nexport const InputWithIcon = (props) => {\n    let {\n        highlighted = false,\n        icon: Icon,\n        label,\n        onChange,\n        setAttributes,\n        attributeName,\n        component: Component = TextControl,\n    } = props;\n\n    let componentProps;\n    switch (Component) {\n        case 'toggle':\n        case 'switch':\n            Component = ToggleControl;\n        // eslint-disable-next-line no-fallthrough\n        case ToggleControl:\n            componentProps = pick(props, ['checked']);\n            break;\n        case 'range':\n            Component = RangeControl;\n        // eslint-disable-next-line no-fallthrough\n        case RangeControl:\n            componentProps = pick(props, [\n                // 'label',\n                'help',\n                'beforeIcon',\n                'afterIcon',\n                'allowReset',\n                'disabled',\n                'initialPosition',\n                'isShiftStepEnabled',\n                'marks',\n                // 'onChange',\n                'min',\n                'max',\n                'railColor',\n                'renderTooltipContent',\n                'resetFallbackValue',\n                'showTooltip',\n                'step',\n                'trackColor',\n                'value',\n                'withInputField',\n                'icon',\n                'separatorType',\n                'type',\n                'shiftStep',\n            ]);\n            componentProps = omitBy(\n                componentProps,\n                (el) => el === null || typeof el === 'undefined'\n            );\n            break;\n        case TextControl:\n        default:\n            componentProps = pick(props, [\n                'type',\n                'value',\n                'max',\n                'min',\n                'step',\n                'placeholder',\n                'readonly',\n            ]);\n            break;\n    }\n\n    const defaultOnChange = (value) => {\n        setAttributes({ [attributeName]: value });\n    };\n    const containerStyles = toggleWithIconStyles(highlighted);\n\n    return (\n        <>\n            <style>\n                {`\n                .ghwp-editor-input-with-icon * {\n                    margin-bottom: 0 !important;\n                    align-items: center;\n                }\n\n                .ghwp-editor-input-with-icon .components-base-control__label {\n                    display: block;\n                    padding: 0 10px 5px 10px;\n                    text-align: center;\n                }\n\n                .ghwp-editor-input-with-icon--highlight {\n                     border-color: #35f;\n                     border-width: 2px;\n                     box-shadow: 1px 1px 5px 0 #ddd;\n                }\n            `}\n            </style>\n            <div\n                className={classnames('ghwp-editor-input-with-icon', {\n                    'ghwp-editor-input-with-icon': highlighted,\n                })}\n                style={containerStyles}\n            >\n                <Component\n                    label={label}\n                    onChange={onChange || defaultOnChange}\n                    {...componentProps}\n                />\n                <div style={iconWrapperStyles}>\n                    <Icon style={svgIconStyles} />\n                </div>\n            </div>\n        </>\n    );\n};\n"],"names":["RangeControl","components","TextControl","ToggleControl","toggleWithIconStyles","highlighted","styles","display","alignItems","marginBottom","padding","border","justifyContent","width","Object","assign","borderColor","borderWidth","boxShadow","iconWrapperStyles","paddingLeft","borderLeft","marginLeft","alignSelf","flex","svgIconStyles","height","InputWithIcon","props","Icon","icon","label","onChange","setAttributes","attributeName","component","Component","componentProps","pick","omitBy","el","defaultOnChange","value","containerStyles","classnames"],"mappings":";;;;;;AAIA,IAAQA,YAAR,GAAqDC,UAArD,CAAQD,YAAR;AAAA,IAAsBE,WAAtB,GAAqDD,UAArD,CAAsBC,WAAtB;AAAA,IAAmCC,aAAnC,GAAqDF,UAArD,CAAmCE,aAAnC;;AAEA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,WAAD,EAAiB;AAC1C,MAAIC,MAAM,GAAG;AACTC,IAAAA,OAAO,EAAE,MADA;AAETC,IAAAA,UAAU,EAAE,QAFH;AAGTC,IAAAA,YAAY,EAAE,KAHL;AAITC,IAAAA,OAAO,EAAE,KAJA;AAKTC,IAAAA,MAAM,EAAE,gBALC;AAMTC,IAAAA,cAAc,EAAE,eANP;AAOTC,IAAAA,KAAK,EAAE;AAPE,GAAb;;AASA,MAAIR,WAAJ,EAAiB;AACbC,IAAAA,MAAM,GAAGQ,MAAM,CAACC,MAAP,CAAcT,MAAd,EAAsB;AAC3BU,MAAAA,WAAW,EAAE,MADc;AAE3BC,MAAAA,WAAW,EAAE,KAFc;AAG3BC,MAAAA,SAAS,EAAE;AAHgB,KAAtB,CAAT;AAKH;;AACD,SAAOZ,MAAP;AACH,CAlBD;;AAoBA,IAAMa,iBAAiB,GAAG;AACtBC,EAAAA,WAAW,EAAE,KADS;AAEtBC,EAAAA,UAAU,EAAE,gBAFU;AAGtBC,EAAAA,UAAU,EAAE,KAHU;AAItBV,EAAAA,cAAc,EAAE,QAJM;AAKtBL,EAAAA,OAAO,EAAE,MALa;AAMtBgB,EAAAA,SAAS,EAAE,SANW;AAOtBC,EAAAA,IAAI,EAAE;AAPgB,CAA1B;AAUA,IAAMC,aAAa,GAAG;AAClBZ,EAAAA,KAAK,EAAE,MADW;AAElBa,EAAAA,MAAM,EAAE;AAFU,CAAtB;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IACaC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AACpC,2BAQIA,KARJ,CACIvB,WADJ;AAAA,MACIA,WADJ,mCACkB,KADlB;AAAA,MAEUwB,IAFV,GAQID,KARJ,CAEIE,IAFJ;AAAA,MAGIC,KAHJ,GAQIH,KARJ,CAGIG,KAHJ;AAAA,MAIIC,QAJJ,GAQIJ,KARJ,CAIII,QAJJ;AAAA,MAKIC,aALJ,GAQIL,KARJ,CAKIK,aALJ;AAAA,MAMIC,aANJ,GAQIN,KARJ,CAMIM,aANJ;AAAA,yBAQIN,KARJ,CAOIO,SAPJ;AAAA,MAOeC,SAPf,iCAO2BlC,WAP3B;AAUA,MAAImC,cAAJ;;AACA,UAAQD,SAAR;AACI,SAAK,QAAL;AACA,SAAK,QAAL;AACIA,MAAAA,SAAS,GAAGjC,aAAZ;AACJ;;AACA,SAAKA,aAAL;AACIkC,MAAAA,cAAc,GAAGC,IAAI,CAACV,KAAD,EAAQ,CAAC,SAAD,CAAR,CAArB;AACA;;AACJ,SAAK,OAAL;AACIQ,MAAAA,SAAS,GAAGpC,YAAZ;AACJ;;AACA,SAAKA,YAAL;AACIqC,MAAAA,cAAc,GAAGC,IAAI,CAACV,KAAD,EAAQ;AAEzB,YAFyB,EAGzB,YAHyB,EAIzB,WAJyB,EAKzB,YALyB,EAMzB,UANyB,EAOzB,iBAPyB,EAQzB,oBARyB,EASzB,OATyB;AAWzB,WAXyB,EAYzB,KAZyB,EAazB,WAbyB,EAczB,sBAdyB,EAezB,oBAfyB,EAgBzB,aAhByB,EAiBzB,MAjByB,EAkBzB,YAlByB,EAmBzB,OAnByB,EAoBzB,gBApByB,EAqBzB,MArByB,EAsBzB,eAtByB,EAuBzB,MAvByB,EAwBzB,WAxByB,CAAR,CAArB;AA0BAS,MAAAA,cAAc,GAAGE,MAAM,CACnBF,cADmB,EAEnB,UAACG,EAAD;AAAA,eAAQA,EAAE,KAAK,IAAP,IAAe,OAAOA,EAAP,KAAc,WAArC;AAAA,OAFmB,CAAvB;AAIA;;AACJ,SAAKtC,WAAL;AACA;AACImC,MAAAA,cAAc,GAAGC,IAAI,CAACV,KAAD,EAAQ,CACzB,MADyB,EAEzB,OAFyB,EAGzB,KAHyB,EAIzB,KAJyB,EAKzB,MALyB,EAMzB,aANyB,EAOzB,UAPyB,CAAR,CAArB;AASA;AAtDR;;AAyDA,MAAMa,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/BT,IAAAA,aAAa,qBAAIC,aAAJ,EAAoBQ,KAApB,EAAb;AACH,GAFD;;AAGA,MAAMC,eAAe,GAAGvC,oBAAoB,CAACC,WAAD,CAA5C;AAEA,sBACI,uDACI,gpBADJ,eAqBI;AACI,IAAA,SAAS,EAAEuC,UAAU,CAAC,6BAAD,EAAgC;AACjD,qCAA+BvC;AADkB,KAAhC,CADzB;AAII,IAAA,KAAK,EAAEsC;AAJX,kBAMI,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEZ,KADX;AAEI,IAAA,QAAQ,EAAEC,QAAQ,IAAIS;AAF1B,KAGQJ,cAHR,EANJ,eAWI;AAAK,IAAA,KAAK,EAAElB;AAAZ,kBACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEM;AAAb,IADJ,CAXJ,CArBJ,CADJ;AAuCH;;;;"}