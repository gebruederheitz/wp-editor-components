{"version":3,"file":"index.js","sources":["../../../components/with-block-inserters/index.js"],"sourcesContent":["import { data } from 'wp';\n\nconst { withDispatch } = data;\n\nexport const WithBlockInserters = (Component) =>\n    withDispatch((dispatch, ownProps, { select }) => {\n        const { clientId } = ownProps;\n        const { insertBlock } = dispatch('core/block-editor');\n        // prettier-ignore\n        const { getBlockIndex, getBlockRootClientId } = select(\n            'core/block-editor'\n        );\n\n        const mother = getBlockRootClientId(clientId);\n        const currentIndex = getBlockIndex(clientId, mother);\n\n        return {\n            insertBlockAfterSelf(block) {\n                insertBlock(block, currentIndex + 1, mother, false);\n            },\n            insertBlockInto(block, parent, position = null) {\n                insertBlock(block, position, parent.clientId, false);\n            },\n        };\n    })(Component);\n"],"names":["withDispatch","data","WithBlockInserters","Component","dispatch","ownProps","select","clientId","insertBlock","getBlockIndex","getBlockRootClientId","mother","currentIndex","insertBlockAfterSelf","block","insertBlockInto","parent","position"],"mappings":";;AAEA,IAAQA,YAAR,GAAyBC,IAAzB,CAAQD,YAAR;IAEaE,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,SAAD;AAAA,SAC9BH,YAAY,CAAC,UAACI,QAAD,EAAWC,QAAX,QAAoC;AAAA,QAAbC,MAAa,QAAbA,MAAa;AAC7C,QAAQC,QAAR,GAAqBF,QAArB,CAAQE,QAAR;;AACA,oBAAwBH,QAAQ,CAAC,mBAAD,CAAhC;AAAA,QAAQI,WAAR,aAAQA,WAAR,CAF6C;;;AAI7C,kBAAgDF,MAAM,CAClD,mBADkD,CAAtD;AAAA,QAAQG,aAAR,WAAQA,aAAR;AAAA,QAAuBC,oBAAvB,WAAuBA,oBAAvB;;AAIA,QAAMC,MAAM,GAAGD,oBAAoB,CAACH,QAAD,CAAnC;AACA,QAAMK,YAAY,GAAGH,aAAa,CAACF,QAAD,EAAWI,MAAX,CAAlC;AAEA,WAAO;AACHE,MAAAA,oBADG,gCACkBC,KADlB,EACyB;AACxBN,QAAAA,WAAW,CAACM,KAAD,EAAQF,YAAY,GAAG,CAAvB,EAA0BD,MAA1B,EAAkC,KAAlC,CAAX;AACH,OAHE;AAIHI,MAAAA,eAJG,2BAIaD,KAJb,EAIoBE,MAJpB,EAI6C;AAAA,YAAjBC,QAAiB,uEAAN,IAAM;AAC5CT,QAAAA,WAAW,CAACM,KAAD,EAAQG,QAAR,EAAkBD,MAAM,CAACT,QAAzB,EAAmC,KAAnC,CAAX;AACH;AANE,KAAP;AAQH,GAnBW,CAAZ,CAmBGJ,SAnBH,CAD8B;AAAA;;;;"}